var _ReportProblemClientInstPerf,_LocalGenericFeedbackSubmitPerf,_FeedbackBootstrapUtilsPerf;(function(n){function e(){return(i()+i()+i()+i()+i()).toLowerCase()}function i(){return((1+Math.random())*65536|0).toString(16)}var r=n;n.isSubmitDone=!1;n.instrumentationDebugId="";n.UserActions="UserActions";n.CloseActions="CloseActions";n.ReportProblem="ReportProblem";n.ClientVersion="ClientVersion";n.DebugId="DebugId";n.EntryPoint="EntryPoint";var u="Data",t=[],f=function(){function n(n,t,i){this.Feature=n;this.ControlName=t;this.EventType=i;this.TimeStamp=Date.now()}return n}();n.Feature={FeedbackLinkClick:"FeedbackLinkClick",NewSingleEntityFeedback:"NewSingleEntityFeedback",ReportProblemV7:"ReportProblemV7",V7ExperienceUnloaded:"V7ExperienceUnloaded",DetailsIncorrect:"DetailsIncorrect",PermanentlyClosed:"PermanentlyClosed",OtherIssue:"OtherIssue",MissingBusiness:"MissingBusiness",BusinessChanged:"BusinessChanged",ClosedBusinessOpen:"ClosedBusinessOpen",ClosedBusinessMoved:"ClosedBusinessMoved",ClosedBusinessChanged:"ClosedBusinessChanged",NewSingleEntityMap:"NewSingleEntityMap",MissingBusinessDesktop:"MissingBusinessDesktop",MicroFeedback:"MicroFeedback",MultiFeedback:"MultiFeedback",MultiFeedbackThumbsUp:"MultiFeedbackThumbsUp",MultiFeedbackThumbsDown:"MultiFeedbackThumbsDown",MultiFeedbackShown:"MultiFeedbackShown",MultiFeedbackUnloaded:"MultiFeedbackUnloaded"};n.EventType={Clicked:"Clicked",UndoMarkedIncorrect:"UndoMarkedIncorrect",MarkedIncorrect:"MarkedIncorrect",Selected:"Selected",UnSelected:"UnSelected",MapMoved:"MapMoved",NotLoaded:"NotLoaded",Loaded:"Loaded",ThumbsUp:"ThumbsUp",ThumbsDown:"ThumbsDown",ValidationError:"ValidationError",ClickedOnEdit:"ClickedOnEdit"};n.Element={Map:"Map",Close:"CloseButton",Escape:"Escape",Submit:"SubmitButton",RadioButton:"RadioButton",CheckBox:"CheckBox",Option:"Option",Puspin:"Pushpin"};n.log=function(n,i,r){t.push(new f(n,i,r))};n.submitClientInst=function(){Log.Log(n.ReportProblem,n.ReportProblem,n.UserActions,!1,u,JSON.stringify(t),r.ClientVersion,"1.2",r.DebugId,n.instrumentationDebugId);t=[]};n.submitMultiEntityClientInst=function(){Log.Log(n.Feature.MultiFeedback,n.ReportProblem,n.UserActions,!1,u,JSON.stringify(t),r.DebugId,n.instrumentationDebugId);t=[]};n.getDebugId=e})(_ReportProblemClientInstPerf||(_ReportProblemClientInstPerf={})),function(n){function r(n,i){var u=t(n,i),r=sj_gx();r.open("POST","/feedback/submission",!0);r.setRequestHeader("Content-Type","application/json; charset=UTF-8");r.send(u)}function t(n,t){var e,l,o;u();var s="sj_locmet",h=typeof _w[s]=="object"?_w[s].GetCurrentUrl():location.href,c=_ge("sb_form_q"),f,a=RapFeedback.PackageLoad.GetHTML(),r=RapFeedback.debugCollector.collect(!0);_G&&_G.PN!==undefined&&(r.canvas=_G.PN);e=r.canvas;l=typeof _G.V=="undefined"?_G.P:_G.V;n==null&&(n={});n.keywords=t;n.partner="BingLegacy";n.feedbackType="feedback";n.url=h;n.impression_guid=RapFeedback.ImpressionGuidProvider.Provide(r);n.vertical=typeof e!="undefined"?e:l;n.html=a;n.width=_d.documentElement.clientWidth;n.height=_d.documentElement.clientHeight;n.source="verbatim";n.query=i("q",h);n.timeStamp=RapFeedback.Core.GetISODate(_G.ST);(n.query===null||n.query===undefined)&&(n.query=c&&c.value);(n.query===null||typeof n.query=="object"||typeof n.query=="undefined"||n.query==="")&&delete n.query;o=!1;for(f in r)n[f]=r[f],o=!0;return o&&(n.structured_data=r),RapFeedback.Core.Stringify(n)}function u(){var n=document.getElementById(_FeedbackBootstrapUtilsPerf.linkId),t="hlsrc";n==null||n.classList.contains(t)||(n.className+=" "+t)}function i(n,t){for(var i,u=t.substr(1).split("&"),r=0;r<u.length;r++)if(i=u[r].split("="),i!=null&&i.length==2&&i[0]==n)return decodeURIComponent(i[1]);return null}n.isSubmitDone=!1;n.sendData=r;n.getData=t;n.getParameter=i}(_LocalGenericFeedbackSubmitPerf||(_LocalGenericFeedbackSubmitPerf={})),function(n){function u(){for(var t=_ge(n.linkId);t!=null&&!t.classList.contains("b_ans")&&!t.classList.contains("localFeedbackContainer");)t=t.parentElement;t!=null&&(n.highlightedDiv=t)}function f(n){for(var t=sj_et(n);t!=null&&!t.classList.contains("exp_trgr");)t=t.parentElement;t!=null&&t.parentElement!=null&&t.parentElement.parentElement!=null&&(t=t.parentElement.parentElement,t.classList.contains("redBorderSmall")?t.classList.remove("redBorderSmall"):t.classList.add("redBorderSmall"),sj_sp(n),sj_pd(n))}function e(u,f,e){var h,y,l,o,a,c;_w.scrollTo(0,0);var v=sb_de.clientWidth+_d.documentElement.scrollLeft,p=sb_de.clientHeight+_d.documentElement.scrollTop,s=sj_ce("div",r,"fblayer");s.style.height=_d.documentElement.scrollHeight+"px";s.style.width=v+"px";s.style.zIndex=u;sj_be(s,"click",function(){t.Close();Log.Log("CloseClickBeforeSubmit",_ReportProblemClientInstPerf.ReportProblem,_ReportProblemClientInstPerf.CloseActions,!0,_ReportProblemClientInstPerf.ClientVersion,"1.2",_ReportProblemClientInstPerf.DebugId,_ReportProblemClientInstPerf.instrumentationDebugId)});sj_b.style.position="static";sj_b.appendChild(s);h=sj_ce("div","infb_titlebar","fbtitlebar");n.close=sj_ce("a","fbpgdgcl_lsfb","fbclose");n.close.style.zIndex=(parseInt(u)+1).toString();h.appendChild(n.close);y=sj_ce("div","infb_titlebar_icon","fbtitlebaricon");h.appendChild(y);l=sj_ce("h2","infb_title","fbtitle");l.innerHTML=f;h.appendChild(l);o=sj_ce("div",i,"fbcontent");a={height:603,width:976};o.style.top=(p+_d.documentElement.scrollTop)/2-a.height/2+"px";o.style.left=v/2-a.width/2+"px";o.style.zIndex=(parseInt(u)+1).toString();o.appendChild(h);c=sj_ce("iframe","infb_if","infbsrc");c.name=f;c.src=e+"&format=inline";o.appendChild(c);sj_b.appendChild(o)}function o(){t.highlightedDiv!=null&&t.highlightedDiv.classList.remove("redBorder");var n=_ge(i),u=_ge(r);n.parentNode.removeChild(n);u.parentNode.removeChild(u);sj_b.style.position=""}var t=n,i,r;n.linkId=null;n.highlightedDiv=null;n.close=null;i="infb_content";r="infb_bglayer";n.setHighlightedDiv=u;n.AddRedBorder=f;n.setIframe=e;n.Close=o}(_FeedbackBootstrapUtilsPerf||(_FeedbackBootstrapUtilsPerf={}));_w.ReportProblemClientInst||(_w.ReportProblemClientInst=_ReportProblemClientInstPerf);_w.LocalGenericFeedbackSubmit||(_w.LocalGenericFeedbackSubmit=_LocalGenericFeedbackSubmitPerf);_w.FeedbackBootstrapUtils||(_w.FeedbackBootstrapUtils=_FeedbackBootstrapUtilsPerf)